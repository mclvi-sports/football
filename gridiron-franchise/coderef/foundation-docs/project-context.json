{
  "api_context": {
    "endpoints": [],
    "count": 0,
    "frameworks_detected": [],
    "auth_method": "Unknown",
    "error_format": "Unknown"
  },
  "dependencies": {
    "count": 44,
    "production": [
      {
        "name": "@dnd-kit/core",
        "version": "^6.3.1",
        "ecosystem": "npm"
      },
      {
        "name": "@dnd-kit/sortable",
        "version": "^10.0.0",
        "ecosystem": "npm"
      },
      {
        "name": "@dnd-kit/utilities",
        "version": "^3.2.2",
        "ecosystem": "npm"
      },
      {
        "name": "@hookform/resolvers",
        "version": "^5.2.2",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-alert-dialog",
        "version": "^1.1.15",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-dialog",
        "version": "^1.1.15",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-dropdown-menu",
        "version": "^2.1.16",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-label",
        "version": "^2.1.8",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-progress",
        "version": "^1.1.8",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-scroll-area",
        "version": "^1.2.10",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-select",
        "version": "^2.2.6",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-separator",
        "version": "^1.1.8",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-slot",
        "version": "^1.2.4",
        "ecosystem": "npm"
      },
      {
        "name": "@radix-ui/react-tabs",
        "version": "^1.1.13",
        "ecosystem": "npm"
      },
      {
        "name": "@supabase/ssr",
        "version": "^0.8.0",
        "ecosystem": "npm"
      },
      {
        "name": "@supabase/supabase-js",
        "version": "^2.86.0",
        "ecosystem": "npm"
      },
      {
        "name": "class-variance-authority",
        "version": "^0.7.1",
        "ecosystem": "npm"
      },
      {
        "name": "clsx",
        "version": "^2.1.1",
        "ecosystem": "npm"
      },
      {
        "name": "lucide-react",
        "version": "^0.555.0",
        "ecosystem": "npm"
      },
      {
        "name": "next",
        "version": "^16.0.7",
        "ecosystem": "npm"
      },
      {
        "name": "next-pwa",
        "version": "^5.6.0",
        "ecosystem": "npm"
      },
      {
        "name": "next-themes",
        "version": "^0.4.6",
        "ecosystem": "npm"
      },
      {
        "name": "react",
        "version": "19.2.0",
        "ecosystem": "npm"
      },
      {
        "name": "react-dom",
        "version": "19.2.0",
        "ecosystem": "npm"
      },
      {
        "name": "react-hook-form",
        "version": "^7.67.0",
        "ecosystem": "npm"
      },
      {
        "name": "sonner",
        "version": "^2.0.7",
        "ecosystem": "npm"
      },
      {
        "name": "tailwind-merge",
        "version": "^3.4.0",
        "ecosystem": "npm"
      },
      {
        "name": "zod",
        "version": "^4.1.13",
        "ecosystem": "npm"
      },
      {
        "name": "zustand",
        "version": "^5.0.9",
        "ecosystem": "npm"
      }
    ],
    "development": [
      {
        "name": "@tailwindcss/postcss",
        "version": "^4",
        "ecosystem": "npm"
      },
      {
        "name": "@testing-library/jest-dom",
        "version": "^6.9.1",
        "ecosystem": "npm"
      },
      {
        "name": "@testing-library/react",
        "version": "^16.3.0",
        "ecosystem": "npm"
      },
      {
        "name": "@types/node",
        "version": "^20",
        "ecosystem": "npm"
      },
      {
        "name": "@types/react",
        "version": "^19",
        "ecosystem": "npm"
      },
      {
        "name": "@types/react-dom",
        "version": "^19",
        "ecosystem": "npm"
      },
      {
        "name": "@vitejs/plugin-react",
        "version": "^5.1.1",
        "ecosystem": "npm"
      },
      {
        "name": "babel-plugin-react-compiler",
        "version": "1.0.0",
        "ecosystem": "npm"
      },
      {
        "name": "eslint",
        "version": "^9",
        "ecosystem": "npm"
      },
      {
        "name": "eslint-config-next",
        "version": "16.0.6",
        "ecosystem": "npm"
      },
      {
        "name": "jsdom",
        "version": "^27.2.0",
        "ecosystem": "npm"
      },
      {
        "name": "tailwindcss",
        "version": "^4",
        "ecosystem": "npm"
      },
      {
        "name": "tw-animate-css",
        "version": "^1.4.0",
        "ecosystem": "npm"
      },
      {
        "name": "typescript",
        "version": "^5",
        "ecosystem": "npm"
      },
      {
        "name": "vitest",
        "version": "^4.0.15",
        "ecosystem": "npm"
      }
    ],
    "outdated": [],
    "vulns": []
  },
  "database": {
    "tables": [],
    "relationships": [],
    "migrations": [],
    "table_count": 0,
    "has_migrations": false
  },
  "activity": {
    "recent_commits": [],
    "active_files": [],
    "contributors": [],
    "has_git": false
  },
  "patterns": {
    "handlers": [],
    "decorators": [],
    "error_handling": []
  },
  "similar_features": [
    {
      "name": "about-update",
      "workorder_id": "",
      "goal": ""
    },
    {
      "name": "auth-ui",
      "workorder_id": "WO-AUTH-UI-001",
      "goal": ""
    },
    {
      "name": "codebase-cleanup",
      "workorder_id": "",
      "goal": ""
    },
    {
      "name": "contract-generator",
      "workorder_id": "",
      "goal": ""
    },
    {
      "name": "dashboard",
      "workorder_id": "",
      "goal": ""
    },
    {
      "name": "dev-tools-finals-alignment",
      "workorder_id": "WO-DEV-TOOLS-FINALS-ALIGNMENT-001",
      "goal": ""
    },
    {
      "name": "devtools-owner-model",
      "workorder_id": "",
      "goal": ""
    },
    {
      "name": "extract-module-views",
      "workorder_id": "",
      "goal": ""
    },
    {
      "name": "game-menu",
      "workorder_id": "WO-GAME-MENU-001",
      "goal": ""
    },
    {
      "name": "gamestats-generator",
      "workorder_id": "",
      "goal": ""
    }
  ],
  "existing_docs": {
    "architecture": {
      "sections": {
        "architecture": "**Gridiron Franchise System Design**\n\nDate: December 2025\nVersion: 0.1.0\n\n---",
        "system_topology": "```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        CLIENT (Browser)                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   React 19  \u2502  \u2502  Zustand    \u2502  \u2502    Service Worker       \u2502  \u2502\n\u2502  \u2502  Components \u2502  \u2502   Store     \u2502  \u2502    (PWA Cache)          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                \u2502                                       \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                       \u2502\n\u2502                  \u25bc                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502              Next.js App Router (Pages)                      \u2502\u2502\n\u2502  \u2502  /(main)  /auth  /career  /dashboard                        \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      SERVER (Next.js)                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  API Routes         \u2502  \u2502  Server Components              \u2502   \u2502\n\u2502  \u2502  /api/dev/*         \u2502  \u2502  (RSC with Supabase SSR)        \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502             \u2502                            \u2502                       \u2502\n\u2502             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                       \u2502\n\u2502                          \u25bc                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502              Game Logic Layer (src/lib/)                     \u2502\u2502\n\u2502  \u2502  generators/  data/  types.ts  constants.ts                 \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      SUPABASE (Backend)                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Auth Service       \u2502  \u2502  PostgreSQL Database            \u2502   \u2502\n\u2502  \u2502  (User sessions)    \u2502  \u2502  (Game saves, user data)        \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n---",
        "module_boundaries": "### Layer 1: Presentation (`src/app/`, `src/components/`)\n\nHandles all UI rendering and user interaction.\n\n| Module | Responsibility |\n|--------|----------------|\n| `app/(main)/` | Main menu, settings, credits |\n| `app/auth/` | Authentication flows |\n| `app/career/` | Career creation wizard |\n| `app/dashboard/` | Game interface (roster, draft, etc.) |\n| `components/ui/` | Shadcn/UI primitives |\n| `components/*/` | Feature-specific components |\n\n### Layer 2: State Management (`src/stores/`)\n\nClient-side state using Zustand.\n\n| Store | Purpose |\n|-------|---------|\n| `career-store.ts` | Career creation wizard state |\n| (planned) `game-store.ts` | Active game state |\n\n### Layer 3: Game Logic (`src/lib/`)\n\nPure functions for game mechanics.\n\n| Module | Responsibility |\n|--------|----------------|\n| `generators/` | Procedural generation (players, rosters, draft) |\n| `data/` | Static game data (archetypes, traits, badges) |\n| `types.ts` | Core TypeScript interfaces |\n| `constants.ts` | Game constants (roster template, weights) |\n\n### Layer 4: Backend Integration (`src/lib/supabase/`)\n\nSupabase client setup and utilities.\n\n| Module | Purpose |\n|--------|---------|\n| `client.ts` | Browser Supabase client |\n| `server.ts` | Server-side Supabase client |\n| `middleware.ts` | Auth session management |\n| `auth.ts` | Auth helper functions |\n\n---",
        "data_flow": "### Career Creation Flow\n\n```\nUser selects background\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 career-store      \u2502 setBackground(id)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\nUser selects archetype\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 career-store      \u2502 setArchetype(id)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 gm-persona-utils  \u2502 getSynergy(), calculateBonuses()\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\nUser selects team\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 career-store      \u2502 setTeam(team)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\nConfirmation page shows complete persona\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 buildPersona()    \u2502 \u2192 API \u2192 Supabase (save)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n### Player Generation Flow\n\n```\ngeneratePlayer(position, targetOVR, age)\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Select archetype      \u2502 Based on position pool\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Generate attributes   \u2502 Archetype-driven tiers \u2192 OVR values\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Generate physicals    \u2502 Position-specific ranges\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Assign traits         \u2502 Weighted random + conflict check\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Assign badges         \u2502 Position + OVR-based\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Calculate overall     \u2502 Position-weighted attribute sum\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n        Player object\n```\n\n---",
        "stack_decisions": "### Why Next.js 16 with App Router?\n\n- **Server Components**: Reduce client JS bundle, better initial load\n- **File-based routing**: Clear page organization\n- **API Routes**: Built-in serverless functions for dev tools\n- **PWA Support**: `next-pwa` integration for offline play\n\n### Why Zustand over Redux?\n\n- **Simplicity**: No boilerplate, direct state mutations\n- **Size**: ~1KB vs Redux's larger footprint\n- **TypeScript**: First-class inference without extra setup\n- **Scope**: Game state is per-session, not global enterprise state\n\n### Why Supabase?\n\n- **Auth**: Built-in email/password, social login ready\n- **PostgreSQL**: Full SQL for complex game data queries\n- **Real-time**: Future multiplayer/league features\n- **Row Level Security**: Secure game saves per user\n\n### Why Shadcn/UI?\n\n- **Ownership**: Components copied to codebase, not black-box npm package\n- **Accessibility**: Radix UI primitives with proper ARIA\n- **Customization**: Full control over styling via Tailwind\n- **Consistency**: \"new-york\" variant provides cohesive design\n\n---",
        "key_design_patterns": "### Archetype-Driven Generation\n\nPlayers are generated based on archetypes that define attribute tier distributions:\n\n```typescript\n// Example: Power Back archetype\n{\n  primaryAttributes: { CAR: 'elite', TRK: 'elite', BTK: 'high' },\n  secondaryAttributes: { SPD: 'mid', ELU: 'mid' },\n  weakAttributes: { CTH: 'low', RTE: 'low' }\n}\n```\n\nTiers map to OVR ranges, creating realistic player profiles.\n\n### Tier-Based Roster Generation\n\nTeams have tiers (Elite \u2192 Rebuilding) that determine OVR distributions:\n\n```typescript\nROSTER_TEMPLATE = [\n  { position: 'QB', slot: 1, expected_ovr_offset: 0 },  // Starter\n  { position: 'QB', slot: 2, expected_ovr_offset: -8 }, // Backup\n  // ...\n]\n```\n\n### Trait Conflict System\n\nTraits have defined conflicts to prevent illogical combinations:\n\n```typescript\nconflicts: {\n  'gym_rat': ['lazy'],\n  'team_first': ['diva', 'money_motivated'],\n  // ...\n}\n```\n\n---",
        "directory_structure_rationale": "```\nsrc/\n\u251c\u2500\u2500 app/                 # Next.js pages (file-based routing)\n\u2502   \u251c\u2500\u2500 (main)/          # Route group with shared layout\n\u2502   \u251c\u2500\u2500 api/             # API routes (serverless functions)\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 components/          # React components\n\u2502   \u251c\u2500\u2500 ui/              # Shadcn primitives (Button, Card, etc.)\n\u2502   \u2514\u2500\u2500 [feature]/       # Feature-specific (auth, career, dashboard)\n\u251c\u2500\u2500 lib/                 # Non-React code\n\u2502   \u251c\u2500\u2500 data/            # Static game data (traits, badges, archetypes)\n\u2502   \u251c\u2500\u2500 generators/      # Procedural generation functions\n\u2502   \u251c\u2500\u2500 supabase/        # Backend client setup\n\u2502   \u2514\u2500\u2500 validations/     # Zod schemas\n\u251c\u2500\u2500 data/                # Application data (teams, personas)\n\u251c\u2500\u2500 stores/              # Zustand state stores\n\u2514\u2500\u2500 types/               # Shared TypeScript definitions\n```\n\n**Reasoning:**\n- `lib/` = pure functions, testable without React\n- `components/ui/` = reusable primitives\n- `components/[feature]/` = composed feature components\n- `data/` vs `lib/data/`: App data (teams) vs game rules (traits)\n\n---",
        "ai_agent_notes": "When modifying architecture:\n\n1. **Game Logic Location**: All game rules in `src/lib/`, never in components\n2. **Type Changes**: Update `src/lib/types.ts` first, then fix downstream\n3. **New Pages**: Use App Router conventions, co-locate loading.tsx/error.tsx\n4. **State Addition**: Prefer Zustand store over React useState for shared state\n5. **FINALS Authority**: Design docs in `context/FINALS/` are authoritative\n\n---\n\n**Date:** December 2025\n**Version:** 0.1.0"
      },
      "full_content": "# Architecture\n\n**Gridiron Franchise System Design**\n\nDate: December 2025\nVersion: 0.1.0\n\n---\n\n## System Topology\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        CLIENT (Browser)                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   React 19  \u2502  \u2502  Zustand    \u2502  \u2502    Service Worker       \u2502  \u2502\n\u2502  \u2502  Components \u2502  \u2502   Store     \u2502  \u2502    (PWA Cache)          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                \u2502                                       \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                       \u2502\n\u2502                  \u25bc                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502              Next.js App Router (Pages)                      \u2502\u2502\n\u2502  \u2502  /(main)  /auth  /career  /dashboard                        \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      SERVER (Next.js)                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  API Routes         \u2502  \u2502  Server Components              \u2502   \u2502\n\u2502  \u2502  /api/dev/*         \u2502  \u2502  (RSC with Supabase SSR)        \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502             \u2502                            \u2502                       \u2502\n\u2502             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                       \u2502\n\u2502                          \u25bc                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502              Game Logic Layer (src/lib/)                     \u2502\u2502\n\u2502  \u2502  generators/  data/  types.ts  constants.ts                 \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      SUPABASE (Backend)                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Auth Service       \u2502  \u2502  PostgreSQL Database            \u2502   \u2502\n\u2502  \u2502  (User sessions)    \u2502  \u2502  (Game saves, user data)        \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n---\n\n## Module Boundaries\n\n### Layer 1: Presentation (`src/app/`, `src/components/`)\n\nHandles all UI rendering and user interaction.\n\n| Module | Responsibility |\n|--------|----------------|\n| `app/(main)/` | Main menu, settings, credits |\n| `app/auth/` | Authentication flows |\n| `app/career/` | Career creation wizard |\n| `app/dashboard/` | Game interface (roster, draft, etc.) |\n| `components/ui/` | Shadcn/UI primitives |\n| `components/*/` | Feature-specific components |\n\n### Layer 2: State Management (`src/stores/`)\n\nClient-side state using Zustand.\n\n| Store | Purpose |\n|-------|---------|\n| `career-store.ts` | Career creation wizard state |\n| (planned) `game-store.ts` | Active game state |\n\n### Layer 3: Game Logic (`src/lib/`)\n\nPure functions for game mechanics.\n\n| Module | Responsibility |\n|--------|----------------|\n| `generators/` | Procedural generation (players, rosters, draft) |\n| `data/` | Static game data (archetypes, traits, badges) |\n| `types.ts` | Core TypeScript interfaces |\n| `constants.ts` | Game constants (roster template, weights) |\n\n### Layer 4: Backend Integration (`src/lib/supabase/`)\n\nSupabase client setup and utilities.\n\n| Module | Purpose |\n|--------|---------|\n| `client.ts` | Browser Supabase client |\n| `server.ts` | Server-side Supabase client |\n| `middleware.ts` | Auth session management |\n| `auth.ts` | Auth helper functions |\n\n---\n\n## Data Flow\n\n### Career Creation Flow\n\n```\nUser selects background\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 career-store      \u2502 setBackground(id)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\nUser selects archetype\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 career-store      \u2502 setArchetype(id)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 gm-persona-utils  \u2502 getSynergy(), calculateBonuses()\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\nUser selects team\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 career-store      \u2502 setTeam(team)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\nConfirmation page shows complete persona\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 buildPersona()    \u2502 \u2192 API \u2192 Supabase (save)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n### Player Generation Flow\n\n```\ngeneratePlayer(position, targetOVR, age)\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Select archetype      \u2502 Based on position pool\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Generate attributes   \u2502 Archetype-driven tiers \u2192 OVR values\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Generate physicals    \u2502 Position-specific ranges\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Assign traits         \u2502 Weighted random + conflict check\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Assign badges         \u2502 Position + OVR-based\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Calculate overall     \u2502 Position-weighted attribute sum\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u25bc\n        Player object\n```\n\n---\n\n## Stack Decisions\n\n### Why Next.js 16 with App Router?\n\n- **Server Components**: Reduce client JS bundle, better initial load\n- **File-based routing**: Clear page organization\n- **API Routes**: Built-in serverless functions for dev tools\n- **PWA Support**: `next-pwa` integration for offline play\n\n### Why Zustand over Redux?\n\n- **Simplicity**: No boilerplate, direct state mutations\n- **Size**: ~1KB vs Redux's larger footprint\n- **TypeScript**: First-class inference without extra setup\n- **Scope**: Game state is per-session, not global enterprise state\n\n### Why Supabase?\n\n- **Auth**: Built-in email/password, social login ready\n- **PostgreSQL**: Full SQL for complex game data queries\n- **Real-time**: Future multiplayer/league features\n- **Row Level Security**: Secure game saves per user\n\n### Why Shadcn/UI?\n\n- **Ownership**: Components copied to codebase, not black-box npm package\n- **Accessibility**: Radix UI primitives with proper ARIA\n- **Customization**: Full control over styling via Tailwind\n- **Consistency**: \"new-york\" variant provides cohesive design\n\n---\n\n## Key Design Patterns\n\n### Archetype-Driven Generation\n\nPlayers are generated based on archetypes that define attribute tier distributions:\n\n```typescript\n// Example: Power Back archetype\n{\n  primaryAttributes: { CAR: 'elite', TRK: 'elite', BTK: 'high' },\n  secondaryAttributes: { SPD: 'mid', ELU: 'mid' },\n  weakAttributes: { CTH: 'low', RTE: 'low' }\n}\n```\n\nTiers map to OVR ranges, creating realistic player profiles.\n\n### Tier-Based Roster Generation\n\nTeams have tiers (Elite \u2192 Rebuilding) that determine OVR distributions:\n\n```typescript\nROSTER_TEMPLATE = [\n  { position: 'QB', slot: 1, expected_ovr_offset: 0 },  // Starter\n  { position: 'QB', slot: 2, expected_ovr_offset: -8 }, // Backup\n  // ...\n]\n```\n\n### Trait Conflict System\n\nTraits have defined conflicts to prevent illogical combinations:\n\n```typescript\nconflicts: {\n  'gym_rat': ['lazy'],\n  'team_first': ['diva', 'money_motivated'],\n  // ...\n}\n```\n\n---\n\n## Directory Structure Rationale\n\n```\nsrc/\n\u251c\u2500\u2500 app/                 # Next.js pages (file-based routing)\n\u2502   \u251c\u2500\u2500 (main)/          # Route group with shared layout\n\u2502   \u251c\u2500\u2500 api/             # API routes (serverless functions)\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 components/          # React components\n\u2502   \u251c\u2500\u2500 ui/              # Shadcn primitives (Button, Card, etc.)\n\u2502   \u2514\u2500\u2500 [feature]/       # Feature-specific (auth, career, dashboard)\n\u251c\u2500\u2500 lib/                 # Non-React code\n\u2502   \u251c\u2500\u2500 data/            # Static game data (traits, badges, archetypes)\n\u2502   \u251c\u2500\u2500 generators/      # Procedural generation functions\n\u2502   \u251c\u2500\u2500 supabase/        # Backend client setup\n\u2502   \u2514\u2500\u2500 validations/     # Zod schemas\n\u251c\u2500\u2500 data/                # Application data (teams, personas)\n\u251c\u2500\u2500 stores/              # Zustand state stores\n\u2514\u2500\u2500 types/               # Shared TypeScript definitions\n```\n\n**Reasoning:**\n- `lib/` = pure functions, testable without React\n- `components/ui/` = reusable primitives\n- `components/[feature]/` = composed feature components\n- `data/` vs `lib/data/`: App data (teams) vs game rules (traits)\n\n---\n\n## AI Agent Notes\n\nWhen modifying architecture:\n\n1. **Game Logic Location**: All game rules in `src/lib/`, never in components\n2. **Type Changes**: Update `src/lib/types.ts` first, then fix downstream\n3. **New Pages**: Use App Router conventions, co-locate loading.tsx/error.tsx\n4. **State Addition**: Prefer Zustand store over React useState for shared state\n5. **FINALS Authority**: Design docs in `context/FINALS/` are authoritative\n\n---\n\n**Date:** December 2025\n**Version:** 0.1.0\n",
      "word_count": 1026
    },
    "schema": {
      "sections": {
        "schema_reference": "**Gridiron Franchise Data Schema Documentation**\n\nDate: December 2025\nSchema Version: 0.1.0\n\n---",
        "overview": "This document defines all TypeScript interfaces and data structures used in Gridiron Franchise. The primary type definitions are in `src/lib/types.ts` with GM-specific types in `src/types/gm-persona.ts`.\n\n---",
        "core_game_types": "### Position\n\nAll 18 NFL positions.\n\n```typescript\ntype Position =\n  | 'QB' | 'RB' | 'WR' | 'TE'           // Offense Skill\n  | 'LT' | 'LG' | 'C' | 'RG' | 'RT'     // Offensive Line\n  | 'DE' | 'DT' | 'MLB' | 'OLB'         // Defensive Front\n  | 'CB' | 'FS' | 'SS'                  // Secondary\n  | 'K' | 'P'                           // Special Teams\n```\n\n### Tier\n\nTeam quality tiers for roster generation.\n\n```typescript\ntype Tier = 'Elite' | 'Good' | 'Average' | 'Below Average' | 'Rebuilding'\n```\n\n| Tier | OVR Range | Description |\n|------|-----------|-------------|\n| Elite | 85-92 | Championship contender |\n| Good | 80-87 | Playoff team |\n| Average | 75-82 | .500 team |\n| Below Average | 70-77 | Rebuilding |\n| Rebuilding | 65-72 | Full rebuild |\n\n---",
        "player_schema": "### Player\n\nComplete player object.\n\n```typescript\ninterface Player {\n  id: string                    // UUID\n  firstName: string\n  lastName: string\n  position: Position\n  archetype: string             // e.g., 'field_general', 'power_back'\n  age: number                   // 21-40\n  experience: number            // Years in league\n  height: number                // Inches (66-82)\n  weight: number                // Pounds (175-365)\n  fortyTime: number             // 40-yard dash (4.2-5.5)\n  college: string\n  jerseyNumber: number          // 0-99, position-specific rules\n  overall: number               // 40-99\n  potential: number             // 40-99\n  attributes: PlayerAttributes\n  traits: string[]              // Trait IDs\n  badges: PlayerBadge[]\n  contract?: Contract\n}\n```\n\n### PlayerAttributes\n\nAll 40+ player attributes.\n\n```typescript\ninterface PlayerAttributes {\n  // Physical (all positions)\n  SPD: number  // Speed\n  ACC: number  // Acceleration\n  AGI: number  // Agility\n  STR: number  // Strength\n  JMP: number  // Jump\n  STA: number  // Stamina\n  INJ: number  // Injury resistance\n\n  // Mental (all positions)\n  AWR: number  // Awareness\n  PRC: number  // Play Recognition\n\n  // Passing (QB)\n  THP: number  // Throw Power\n  SAC: number  // Short Accuracy\n  MAC: number  // Medium Accuracy\n  DAC: number  // Deep Accuracy\n  TUP: number  // Throw Under Pressure\n  TOR: number  // Throw on Run\n  PAC: number  // Play Action\n  BSK: number  // Break Sack\n\n  // Rushing (RB, QB)\n  CAR: number  // Carrying\n  BTK: number  // Break Tackle\n  TRK: number  // Trucking\n  ELU: number  // Elusiveness\n  SPM: number  // Spin Move\n  JKM: number  // Juke Move\n  SFA: number  // Stiff Arm\n  VIS: number  // Ball Carrier Vision\n\n  // Receiving (WR, TE, RB)\n  CTH: number  // Catching\n  CIT: number  // Catch in Traffic\n  SPC: number  // Spectacular Catch\n  RTE: number  // Route Running\n  REL: number  // Release\n  RAC: number  // Run After Catch\n  SRR: number  // Short Route Running\n  MRR: number  // Medium Route Running\n  DRR: number  // Deep Route Running\n\n  // Blocking (OL, TE)\n  PBK: number  // Pass Block\n  RBK: number  // Run Block\n  IBL: number  // Impact Block\n  PBP: number  // Pass Block Power\n  PBF: number  // Pass Block Finesse\n  RBP: number  // Run Block Power\n  RBF: number  // Run Block Finesse\n  LBK: number  // Lead Block\n\n  // Defense\n  TAK: number  // Tackling\n  POW: number  // Power Moves\n  PMV: number  // Pass Rush Power\n  FMV: number  // Pass Rush Finesse\n  BSH: number  // Block Shedding\n  PUR: number  // Pursuit\n  MCV: number  // Man Coverage\n  ZCV: number  // Zone Coverage\n  PRS: number  // Press\n\n  // Special Teams\n  KPW: number  // Kick Power\n  KAC: number  // Kick Accuracy\n  PPW: number  // Punt Power\n  PUA: number  // Punt Accuracy\n\n  // Intangibles\n  CLU: number  // Clutch\n  CON: number  // Consistency\n}\n```\n\n### PlayerBadge\n\nBadge with tier information.\n\n```typescript\ninterface PlayerBadge {\n  id: string                    // Badge identifier\n  tier: 'bronze' | 'silver' | 'gold' | 'hof'\n}\n```\n\n### Contract\n\nPlayer contract details.\n\n```typescript\ninterface Contract {\n  years: number                 // 1-6\n  salary: number                // Annual salary in dollars\n  guaranteed: number            // Guaranteed money\n  signingBonus?: number\n}\n```\n\n---",
        "roster_schema": "### Roster\n\nTeam roster with depth chart.\n\n```typescript\ninterface Roster {\n  players: Player[]\n  depthChart: Record<Position, string[]>  // Position \u2192 Player IDs in order\n}\n```\n\n### RosterTemplate\n\nTemplate for roster generation.\n\n```typescript\ninterface RosterSlot {\n  position: Position\n  slot: number                  // 1 = starter, 2 = backup, etc.\n  expected_ovr_offset: number   // Offset from tier baseline\n}\n\n// Example: 53-man roster template\nconst ROSTER_TEMPLATE: RosterSlot[] = [\n  { position: 'QB', slot: 1, expected_ovr_offset: 0 },\n  { position: 'QB', slot: 2, expected_ovr_offset: -8 },\n  { position: 'QB', slot: 3, expected_ovr_offset: -15 },\n  // ... 50 more slots\n]\n```\n\n---",
        "team_schema": "### Team\n\nComplete team object.\n\n```typescript\ninterface Team {\n  id: string                    // Abbreviation (e.g., 'KC')\n  city: string                  // e.g., 'Kansas City'\n  name: string                  // e.g., 'Chiefs'\n  abbr: string                  // e.g., 'KC'\n  conference: 'AFC' | 'NFC'\n  division: 'North' | 'South' | 'East' | 'West'\n  primaryColor: string          // Hex color\n  secondaryColor: string        // Hex color\n  tier: Tier\n  roster: Roster\n  overall: number               // Team OVR\n  offense: number               // Offensive rating\n  defense: number               // Defensive rating\n}\n```\n\n---",
        "trait_schema": "### Trait\n\nPlayer trait definition.\n\n```typescript\ninterface Trait {\n  id: string                    // Unique identifier\n  name: string                  // Display name\n  description: string\n  category: TraitCategory\n  rarity: 'common' | 'uncommon' | 'rare' | 'very_rare'\n  isPositive: boolean\n  effect: TraitEffect\n  conflicts: string[]           // IDs of conflicting traits\n  positions?: Position[]        // Position restrictions (null = all)\n}\n\ntype TraitCategory =\n  | 'leadership'\n  | 'work_ethic'\n  | 'on_field'\n  | 'durability'\n  | 'contract'\n  | 'clutch'\n  | 'character'\n\ninterface TraitEffect {\n  attribute?: string            // Attribute to modify\n  modifier?: number             // +/- value\n  special?: string              // Special effect description\n}\n```\n\n---",
        "badge_schema": "### Badge\n\nPerformance badge definition.\n\n```typescript\ninterface Badge {\n  id: string\n  name: string\n  description: string\n  category: BadgeCategory\n  positions: Position[]         // Applicable positions\n  tiers: {\n    bronze: BadgeTierEffect\n    silver: BadgeTierEffect\n    gold: BadgeTierEffect\n    hof: BadgeTierEffect\n  }\n  activation: BadgeActivation\n}\n\ntype BadgeCategory =\n  | 'passing'\n  | 'rushing'\n  | 'receiving'\n  | 'blocking'\n  | 'defense'\n  | 'special_teams'\n\ninterface BadgeTierEffect {\n  bonus: number                 // Attribute bonus when active\n  description: string\n}\n\ninterface BadgeActivation {\n  situation: string             // When badge activates\n  frequency: 'always' | 'situational' | 'rare'\n}\n```\n\n---",
        "gm_persona_schema": "### GMPersona\n\nComplete GM character.\n\n```typescript\ninterface GMPersona {\n  background: GMBackground\n  archetype: GMArchetype\n  synergy: GMSynergy | null\n  bonuses: GMBonuses\n  startingSkill: GMSkill\n  skillDiscountCategory: SkillCategory\n  skillDiscountPercent: number\n}\n```\n\n### GMBackground\n\nGM origin story.\n\n```typescript\ninterface GMBackground {\n  id: GMBackgroundId\n  name: string\n  icon: string                  // Emoji or icon identifier\n  description: string\n  bonuses: GMBonuses\n  weakness: string\n  bestPairedWith: GMArchetypeId[]\n}\n\ntype GMBackgroundId =\n  | 'former_player'\n  | 'analytics_expert'\n  | 'college_scout'\n  | 'coaching_tree'\n  | 'agent_specialist'\n  | 'media_insider'\n```\n\n### GMArchetype\n\nGM management style.\n\n```typescript\ninterface GMArchetype {\n  id: GMArchetypeId\n  name: string\n  icon: string\n  philosophy: string\n  bonuses: GMBonuses\n  skill: GMSkill\n  skillDiscountCategory: SkillCategory\n}\n\ntype GMArchetypeId =\n  | 'scout_guru'\n  | 'cap_wizard'\n  | 'trade_shark'\n  | 'player_developer'\n  | 'win_now_executive'\n  | 'motivator'\n```\n\n### GMSynergy\n\nBonus when specific background + archetype combine.\n\n```typescript\ninterface GMSynergy {\n  id: GMSynergyId\n  name: string\n  description: string\n  bonuses: GMBonuses\n  requiredBackground: GMBackgroundId\n  requiredArchetype: GMArchetypeId\n}\n\ntype GMSynergyId =\n  | 'the_mentor'\n  | 'the_moneyball'\n  | 'the_draft_whisperer'\n  | 'the_dealmaker'\n  | 'the_academy'\n  | 'the_insider'\n  | 'the_closer'\n  | 'the_optimizer'\n```\n\n### GMBonuses\n\nQuantified GM bonuses.\n\n```typescript\ninterface GMBonuses {\n  scoutingAccuracy: number      // -20 to +20\n  contractNegotiation: number\n  tradeAcceptance: number\n  playerDevelopment: number\n  teamMorale: number\n  injuryRecovery: number\n  draftPicks: number\n  freeAgentInterest: number\n}\n```\n\n### GMSkill\n\nUnlockable GM ability.\n\n```typescript\ninterface GMSkill {\n  name: string\n  tier: 1 | 2 | 3\n  description: string\n  category: SkillCategory\n}\n\ntype SkillCategory =\n  | 'scouting_draft'\n  | 'contracts_money'\n  | 'trades'\n  | 'player_development'\n  | 'team_management'\n```\n\n---",
        "archetype_schema": "### ArchetypeTemplate\n\nPlayer archetype definition.\n\n```typescript\ninterface ArchetypeTemplate {\n  id: string\n  name: string\n  position: Position\n  description: string\n  primaryAttributes: Record<string, AttributeTier>\n  secondaryAttributes: Record<string, AttributeTier>\n  weakAttributes: Record<string, AttributeTier>\n}\n\ntype AttributeTier = 'elite' | 'high' | 'mid' | 'low' | 'poor'\n```\n\n---",
        "validation": "### Zod Schemas\n\nExample validation schemas:\n\n```typescript\nimport { z } from 'zod'\n\nconst playerSchema = z.object({\n  id: z.string().uuid(),\n  firstName: z.string().min(1).max(50),\n  lastName: z.string().min(1).max(50),\n  position: z.enum(['QB', 'RB', 'WR', ...]),\n  age: z.number().int().min(21).max(45),\n  overall: z.number().int().min(40).max(99),\n  // ...\n})\n\nconst rosterSchema = z.object({\n  players: z.array(playerSchema).length(53),\n  depthChart: z.record(z.array(z.string().uuid()))\n})\n```\n\n---",
        "relationships": "```\nTeam (1) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 (1) Roster\n                          \u2502\n                          \u2502 contains\n                          \u25bc\n                     Player (53)\n                          \u2502\n                          \u251c\u2500\u2500 has \u2500\u2500\u25ba Traits (0-5)\n                          \u251c\u2500\u2500 has \u2500\u2500\u25ba Badges (0-5)\n                          \u2514\u2500\u2500 has \u2500\u2500\u25ba Contract (0-1)\n\nGMPersona (1) \u2500\u252c\u2500\u2500 has \u2500\u2500\u25ba Background (1)\n               \u251c\u2500\u2500 has \u2500\u2500\u25ba Archetype (1)\n               \u2514\u2500\u2500 may \u2500\u2500\u25ba Synergy (0-1)\n```\n\n---",
        "ai_agent_notes": "When modifying schemas:\n\n1. **Primary Location**: `src/lib/types.ts` for game types\n2. **GM Types**: `src/types/gm-persona.ts` for persona system\n3. **Validation**: Add Zod schemas in `src/lib/validations/`\n4. **FINALS Authority**: Schema must align with `context/FINALS/` docs\n5. **Generator Impact**: Type changes require generator updates\n\n---\n\n**Date:** December 2025\n**Schema Version:** 0.1.0"
      },
      "full_content": "# Schema Reference\n\n**Gridiron Franchise Data Schema Documentation**\n\nDate: December 2025\nSchema Version: 0.1.0\n\n---\n\n## Overview\n\nThis document defines all TypeScript interfaces and data structures used in Gridiron Franchise. The primary type definitions are in `src/lib/types.ts` with GM-specific types in `src/types/gm-persona.ts`.\n\n---\n\n## Core Game Types\n\n### Position\n\nAll 18 NFL positions.\n\n```typescript\ntype Position =\n  | 'QB' | 'RB' | 'WR' | 'TE'           // Offense Skill\n  | 'LT' | 'LG' | 'C' | 'RG' | 'RT'     // Offensive Line\n  | 'DE' | 'DT' | 'MLB' | 'OLB'         // Defensive Front\n  | 'CB' | 'FS' | 'SS'                  // Secondary\n  | 'K' | 'P'                           // Special Teams\n```\n\n### Tier\n\nTeam quality tiers for roster generation.\n\n```typescript\ntype Tier = 'Elite' | 'Good' | 'Average' | 'Below Average' | 'Rebuilding'\n```\n\n| Tier | OVR Range | Description |\n|------|-----------|-------------|\n| Elite | 85-92 | Championship contender |\n| Good | 80-87 | Playoff team |\n| Average | 75-82 | .500 team |\n| Below Average | 70-77 | Rebuilding |\n| Rebuilding | 65-72 | Full rebuild |\n\n---\n\n## Player Schema\n\n### Player\n\nComplete player object.\n\n```typescript\ninterface Player {\n  id: string                    // UUID\n  firstName: string\n  lastName: string\n  position: Position\n  archetype: string             // e.g., 'field_general', 'power_back'\n  age: number                   // 21-40\n  experience: number            // Years in league\n  height: number                // Inches (66-82)\n  weight: number                // Pounds (175-365)\n  fortyTime: number             // 40-yard dash (4.2-5.5)\n  college: string\n  jerseyNumber: number          // 0-99, position-specific rules\n  overall: number               // 40-99\n  potential: number             // 40-99\n  attributes: PlayerAttributes\n  traits: string[]              // Trait IDs\n  badges: PlayerBadge[]\n  contract?: Contract\n}\n```\n\n### PlayerAttributes\n\nAll 40+ player attributes.\n\n```typescript\ninterface PlayerAttributes {\n  // Physical (all positions)\n  SPD: number  // Speed\n  ACC: number  // Acceleration\n  AGI: number  // Agility\n  STR: number  // Strength\n  JMP: number  // Jump\n  STA: number  // Stamina\n  INJ: number  // Injury resistance\n\n  // Mental (all positions)\n  AWR: number  // Awareness\n  PRC: number  // Play Recognition\n\n  // Passing (QB)\n  THP: number  // Throw Power\n  SAC: number  // Short Accuracy\n  MAC: number  // Medium Accuracy\n  DAC: number  // Deep Accuracy\n  TUP: number  // Throw Under Pressure\n  TOR: number  // Throw on Run\n  PAC: number  // Play Action\n  BSK: number  // Break Sack\n\n  // Rushing (RB, QB)\n  CAR: number  // Carrying\n  BTK: number  // Break Tackle\n  TRK: number  // Trucking\n  ELU: number  // Elusiveness\n  SPM: number  // Spin Move\n  JKM: number  // Juke Move\n  SFA: number  // Stiff Arm\n  VIS: number  // Ball Carrier Vision\n\n  // Receiving (WR, TE, RB)\n  CTH: number  // Catching\n  CIT: number  // Catch in Traffic\n  SPC: number  // Spectacular Catch\n  RTE: number  // Route Running\n  REL: number  // Release\n  RAC: number  // Run After Catch\n  SRR: number  // Short Route Running\n  MRR: number  // Medium Route Running\n  DRR: number  // Deep Route Running\n\n  // Blocking (OL, TE)\n  PBK: number  // Pass Block\n  RBK: number  // Run Block\n  IBL: number  // Impact Block\n  PBP: number  // Pass Block Power\n  PBF: number  // Pass Block Finesse\n  RBP: number  // Run Block Power\n  RBF: number  // Run Block Finesse\n  LBK: number  // Lead Block\n\n  // Defense\n  TAK: number  // Tackling\n  POW: number  // Power Moves\n  PMV: number  // Pass Rush Power\n  FMV: number  // Pass Rush Finesse\n  BSH: number  // Block Shedding\n  PUR: number  // Pursuit\n  MCV: number  // Man Coverage\n  ZCV: number  // Zone Coverage\n  PRS: number  // Press\n\n  // Special Teams\n  KPW: number  // Kick Power\n  KAC: number  // Kick Accuracy\n  PPW: number  // Punt Power\n  PUA: number  // Punt Accuracy\n\n  // Intangibles\n  CLU: number  // Clutch\n  CON: number  // Consistency\n}\n```\n\n### PlayerBadge\n\nBadge with tier information.\n\n```typescript\ninterface PlayerBadge {\n  id: string                    // Badge identifier\n  tier: 'bronze' | 'silver' | 'gold' | 'hof'\n}\n```\n\n### Contract\n\nPlayer contract details.\n\n```typescript\ninterface Contract {\n  years: number                 // 1-6\n  salary: number                // Annual salary in dollars\n  guaranteed: number            // Guaranteed money\n  signingBonus?: number\n}\n```\n\n---\n\n## Roster Schema\n\n### Roster\n\nTeam roster with depth chart.\n\n```typescript\ninterface Roster {\n  players: Player[]\n  depthChart: Record<Position, string[]>  // Position \u2192 Player IDs in order\n}\n```\n\n### RosterTemplate\n\nTemplate for roster generation.\n\n```typescript\ninterface RosterSlot {\n  position: Position\n  slot: number                  // 1 = starter, 2 = backup, etc.\n  expected_ovr_offset: number   // Offset from tier baseline\n}\n\n// Example: 53-man roster template\nconst ROSTER_TEMPLATE: RosterSlot[] = [\n  { position: 'QB', slot: 1, expected_ovr_offset: 0 },\n  { position: 'QB', slot: 2, expected_ovr_offset: -8 },\n  { position: 'QB', slot: 3, expected_ovr_offset: -15 },\n  // ... 50 more slots\n]\n```\n\n---\n\n## Team Schema\n\n### Team\n\nComplete team object.\n\n```typescript\ninterface Team {\n  id: string                    // Abbreviation (e.g., 'KC')\n  city: string                  // e.g., 'Kansas City'\n  name: string                  // e.g., 'Chiefs'\n  abbr: string                  // e.g., 'KC'\n  conference: 'AFC' | 'NFC'\n  division: 'North' | 'South' | 'East' | 'West'\n  primaryColor: string          // Hex color\n  secondaryColor: string        // Hex color\n  tier: Tier\n  roster: Roster\n  overall: number               // Team OVR\n  offense: number               // Offensive rating\n  defense: number               // Defensive rating\n}\n```\n\n---\n\n## Trait Schema\n\n### Trait\n\nPlayer trait definition.\n\n```typescript\ninterface Trait {\n  id: string                    // Unique identifier\n  name: string                  // Display name\n  description: string\n  category: TraitCategory\n  rarity: 'common' | 'uncommon' | 'rare' | 'very_rare'\n  isPositive: boolean\n  effect: TraitEffect\n  conflicts: string[]           // IDs of conflicting traits\n  positions?: Position[]        // Position restrictions (null = all)\n}\n\ntype TraitCategory =\n  | 'leadership'\n  | 'work_ethic'\n  | 'on_field'\n  | 'durability'\n  | 'contract'\n  | 'clutch'\n  | 'character'\n\ninterface TraitEffect {\n  attribute?: string            // Attribute to modify\n  modifier?: number             // +/- value\n  special?: string              // Special effect description\n}\n```\n\n---\n\n## Badge Schema\n\n### Badge\n\nPerformance badge definition.\n\n```typescript\ninterface Badge {\n  id: string\n  name: string\n  description: string\n  category: BadgeCategory\n  positions: Position[]         // Applicable positions\n  tiers: {\n    bronze: BadgeTierEffect\n    silver: BadgeTierEffect\n    gold: BadgeTierEffect\n    hof: BadgeTierEffect\n  }\n  activation: BadgeActivation\n}\n\ntype BadgeCategory =\n  | 'passing'\n  | 'rushing'\n  | 'receiving'\n  | 'blocking'\n  | 'defense'\n  | 'special_teams'\n\ninterface BadgeTierEffect {\n  bonus: number                 // Attribute bonus when active\n  description: string\n}\n\ninterface BadgeActivation {\n  situation: string             // When badge activates\n  frequency: 'always' | 'situational' | 'rare'\n}\n```\n\n---\n\n## GM Persona Schema\n\n### GMPersona\n\nComplete GM character.\n\n```typescript\ninterface GMPersona {\n  background: GMBackground\n  archetype: GMArchetype\n  synergy: GMSynergy | null\n  bonuses: GMBonuses\n  startingSkill: GMSkill\n  skillDiscountCategory: SkillCategory\n  skillDiscountPercent: number\n}\n```\n\n### GMBackground\n\nGM origin story.\n\n```typescript\ninterface GMBackground {\n  id: GMBackgroundId\n  name: string\n  icon: string                  // Emoji or icon identifier\n  description: string\n  bonuses: GMBonuses\n  weakness: string\n  bestPairedWith: GMArchetypeId[]\n}\n\ntype GMBackgroundId =\n  | 'former_player'\n  | 'analytics_expert'\n  | 'college_scout'\n  | 'coaching_tree'\n  | 'agent_specialist'\n  | 'media_insider'\n```\n\n### GMArchetype\n\nGM management style.\n\n```typescript\ninterface GMArchetype {\n  id: GMArchetypeId\n  name: string\n  icon: string\n  philosophy: string\n  bonuses: GMBonuses\n  skill: GMSkill\n  skillDiscountCategory: SkillCategory\n}\n\ntype GMArchetypeId =\n  | 'scout_guru'\n  | 'cap_wizard'\n  | 'trade_shark'\n  | 'player_developer'\n  | 'win_now_executive'\n  | 'motivator'\n```\n\n### GMSynergy\n\nBonus when specific background + archetype combine.\n\n```typescript\ninterface GMSynergy {\n  id: GMSynergyId\n  name: string\n  description: string\n  bonuses: GMBonuses\n  requiredBackground: GMBackgroundId\n  requiredArchetype: GMArchetypeId\n}\n\ntype GMSynergyId =\n  | 'the_mentor'\n  | 'the_moneyball'\n  | 'the_draft_whisperer'\n  | 'the_dealmaker'\n  | 'the_academy'\n  | 'the_insider'\n  | 'the_closer'\n  | 'the_optimizer'\n```\n\n### GMBonuses\n\nQuantified GM bonuses.\n\n```typescript\ninterface GMBonuses {\n  scoutingAccuracy: number      // -20 to +20\n  contractNegotiation: number\n  tradeAcceptance: number\n  playerDevelopment: number\n  teamMorale: number\n  injuryRecovery: number\n  draftPicks: number\n  freeAgentInterest: number\n}\n```\n\n### GMSkill\n\nUnlockable GM ability.\n\n```typescript\ninterface GMSkill {\n  name: string\n  tier: 1 | 2 | 3\n  description: string\n  category: SkillCategory\n}\n\ntype SkillCategory =\n  | 'scouting_draft'\n  | 'contracts_money'\n  | 'trades'\n  | 'player_development'\n  | 'team_management'\n```\n\n---\n\n## Archetype Schema\n\n### ArchetypeTemplate\n\nPlayer archetype definition.\n\n```typescript\ninterface ArchetypeTemplate {\n  id: string\n  name: string\n  position: Position\n  description: string\n  primaryAttributes: Record<string, AttributeTier>\n  secondaryAttributes: Record<string, AttributeTier>\n  weakAttributes: Record<string, AttributeTier>\n}\n\ntype AttributeTier = 'elite' | 'high' | 'mid' | 'low' | 'poor'\n```\n\n---\n\n## Validation\n\n### Zod Schemas\n\nExample validation schemas:\n\n```typescript\nimport { z } from 'zod'\n\nconst playerSchema = z.object({\n  id: z.string().uuid(),\n  firstName: z.string().min(1).max(50),\n  lastName: z.string().min(1).max(50),\n  position: z.enum(['QB', 'RB', 'WR', ...]),\n  age: z.number().int().min(21).max(45),\n  overall: z.number().int().min(40).max(99),\n  // ...\n})\n\nconst rosterSchema = z.object({\n  players: z.array(playerSchema).length(53),\n  depthChart: z.record(z.array(z.string().uuid()))\n})\n```\n\n---\n\n## Relationships\n\n```\nTeam (1) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 (1) Roster\n                          \u2502\n                          \u2502 contains\n                          \u25bc\n                     Player (53)\n                          \u2502\n                          \u251c\u2500\u2500 has \u2500\u2500\u25ba Traits (0-5)\n                          \u251c\u2500\u2500 has \u2500\u2500\u25ba Badges (0-5)\n                          \u2514\u2500\u2500 has \u2500\u2500\u25ba Contract (0-1)\n\nGMPersona (1) \u2500\u252c\u2500\u2500 has \u2500\u2500\u25ba Background (1)\n               \u251c\u2500\u2500 has \u2500\u2500\u25ba Archetype (1)\n               \u2514\u2500\u2500 may \u2500\u2500\u25ba Synergy (0-1)\n```\n\n---\n\n## AI Agent Notes\n\nWhen modifying schemas:\n\n1. **Primary Location**: `src/lib/types.ts` for game types\n2. **GM Types**: `src/types/gm-persona.ts` for persona system\n3. **Validation**: Add Zod schemas in `src/lib/validations/`\n4. **FINALS Authority**: Schema must align with `context/FINALS/` docs\n5. **Generator Impact**: Type changes require generator updates\n\n---\n\n**Date:** December 2025\n**Schema Version:** 0.1.0\n",
      "word_count": 1424
    },
    "api": {
      "sections": {
        "api_reference": "**Gridiron Franchise API Documentation**\n\nDate: December 2025\nVersion: 0.1.0\n\n---",
        "overview": "Gridiron Franchise uses Next.js API Routes for server-side functionality. Currently, the API provides development endpoints for testing data generators.\n\n**Base URL:** `http://localhost:3000/api`\n\n---",
        "authentication": "API routes currently do not require authentication. Production deployment should implement Supabase auth middleware.\n\n---",
        "development_endpoints": "These endpoints are for development/testing only and should be disabled in production.\n\n### POST /api/dev/generate-roster\n\nGenerate a complete 53-man roster.\n\n**Request:**\n```json\n{\n  \"tier\": \"Good\",\n  \"teamId\": \"KC\"\n}\n```\n\n| Parameter | Type | Required | Description |\n|-----------|------|----------|-------------|\n| `tier` | string | Yes | Team tier: Elite, Good, Average, Below Average, Rebuilding |\n| `teamId` | string | No | Optional team abbreviation |\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"roster\": {\n    \"players\": [\n      {\n        \"id\": \"uuid\",\n        \"firstName\": \"Patrick\",\n        \"lastName\": \"Smith\",\n        \"position\": \"QB\",\n        \"archetype\": \"field_general\",\n        \"age\": 27,\n        \"experience\": 5,\n        \"overall\": 88,\n        \"attributes\": { ... },\n        \"traits\": [\"clutch\", \"film_junkie\"],\n        \"badges\": [{ \"id\": \"pocket_presence\", \"tier\": \"gold\" }]\n      }\n    ],\n    \"depthChart\": {\n      \"QB\": [\"player-id-1\", \"player-id-2\", \"player-id-3\"]\n    }\n  },\n  \"stats\": {\n    \"totalPlayers\": 53,\n    \"averageOVR\": 76.4,\n    \"positionBreakdown\": { \"QB\": 3, \"RB\": 4, ... }\n  }\n}\n```\n\n**cURL Example:**\n```bash\ncurl -X POST http://localhost:3000/api/dev/generate-roster \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"tier\": \"Good\"}'\n```\n\n---\n\n### POST /api/dev/generate-fa\n\nGenerate a free agent pool.\n\n**Request:**\n```json\n{\n  \"poolSize\": 175,\n  \"qualityTier\": \"mixed\"\n}\n```\n\n| Parameter | Type | Required | Description |\n|-----------|------|----------|-------------|\n| `poolSize` | number | No | Target pool size (default: 150-200) |\n| `qualityTier` | string | No | Quality distribution: high, medium, low, mixed |\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"freeAgents\": [\n    {\n      \"id\": \"uuid\",\n      \"firstName\": \"Marcus\",\n      \"lastName\": \"Williams\",\n      \"position\": \"CB\",\n      \"archetype\": \"zone_cover\",\n      \"age\": 30,\n      \"overall\": 78,\n      \"availabilityReason\": \"cap_casualty\",\n      \"contractDemand\": {\n        \"salary\": 5000000,\n        \"years\": 2\n      },\n      \"traits\": [\"veteran_mentor\", \"injury_prone\"],\n      \"badges\": []\n    }\n  ],\n  \"stats\": {\n    \"totalPlayers\": 175,\n    \"averageOVR\": 68.2,\n    \"averageAge\": 28.5,\n    \"byPosition\": { \"QB\": 10, \"RB\": 18, ... }\n  }\n}\n```\n\n---\n\n### POST /api/dev/generate-draft\n\nGenerate a draft class.\n\n**Request:**\n```json\n{\n  \"totalProspects\": 275,\n  \"talentLevel\": \"average\"\n}\n```\n\n| Parameter | Type | Required | Description |\n|-----------|------|----------|-------------|\n| `totalProspects` | number | No | Number of prospects (default: 275) |\n| `talentLevel` | string | No | Overall class quality: strong, average, weak |\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"prospects\": [\n    {\n      \"id\": \"uuid\",\n      \"firstName\": \"Caleb\",\n      \"lastName\": \"Johnson\",\n      \"position\": \"QB\",\n      \"archetype\": \"dual_threat\",\n      \"age\": 22,\n      \"college\": \"Ohio State\",\n      \"overall\": 76,\n      \"projectedRound\": 1,\n      \"projectedPick\": [1, 5],\n      \"scoutingGrade\": \"A\",\n      \"traits\": [\"high_motor\", \"quick_learner\"],\n      \"badges\": []\n    }\n  ],\n  \"stats\": {\n    \"totalProspects\": 275,\n    \"averageOVR\": 67.3,\n    \"byRound\": { \"1\": 32, \"2\": 32, ... },\n    \"byPosition\": { \"QB\": 12, \"RB\": 24, ... }\n  }\n}\n```\n\n---\n\n### POST /api/dev/generate-full\n\nGenerate complete game data (roster + FA pool + draft class).\n\n**Request:**\n```json\n{\n  \"options\": {\n    \"roster\": { \"tier\": \"Good\" },\n    \"freeAgents\": { \"poolSize\": 175 },\n    \"draft\": { \"totalProspects\": 275 }\n  }\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"roster\": { ... },\n    \"freeAgents\": [ ... ],\n    \"draftClass\": [ ... ]\n  },\n  \"stats\": {\n    \"generationTime\": \"1.2s\",\n    \"totalPlayers\": 503\n  }\n}\n```\n\n---",
        "error_handling": "All endpoints return consistent error responses:\n\n```json\n{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"INVALID_TIER\",\n    \"message\": \"Tier must be one of: Elite, Good, Average, Below Average, Rebuilding\"\n  }\n}\n```\n\n### Error Codes\n\n| Code | HTTP Status | Description |\n|------|-------------|-------------|\n| `INVALID_TIER` | 400 | Invalid team tier value |\n| `INVALID_POSITION` | 400 | Invalid position value |\n| `GENERATION_FAILED` | 500 | Internal generation error |\n| `UNAUTHORIZED` | 401 | Missing or invalid auth token |\n\n---",
        "rate_limits": "Development endpoints have no rate limits. Production will implement:\n\n| Endpoint Type | Limit |\n|---------------|-------|\n| Generation | 10/minute |\n| Read | 100/minute |\n| Write | 30/minute |\n\n---",
        "data_types": "### Tier\n\n```typescript\ntype Tier = 'Elite' | 'Good' | 'Average' | 'Below Average' | 'Rebuilding'\n```\n\n### Position\n\n```typescript\ntype Position =\n  | 'QB' | 'RB' | 'WR' | 'TE'           // Offense\n  | 'LT' | 'LG' | 'C' | 'RG' | 'RT'     // O-Line\n  | 'DE' | 'DT' | 'MLB' | 'OLB'         // Defense\n  | 'CB' | 'FS' | 'SS'                  // Secondary\n  | 'K' | 'P'                           // Special Teams\n```\n\n### Availability Reason (Free Agents)\n\n```typescript\ntype AvailabilityReason =\n  | 'age_decline'\n  | 'injury_history'\n  | 'cap_casualty'\n  | 'character_concerns'\n  | 'young_unproven'\n  | 'market_timing'\n```\n\n---",
        "ai_agent_notes": "When working with API routes:\n\n1. **Location**: API routes in `src/app/api/dev/`\n2. **Generator Import**: Use functions from `src/lib/generators/`\n3. **Validation**: Add Zod schemas for request validation\n4. **Error Format**: Always return `{ success, error? }` structure\n5. **Types**: Import from `src/lib/types.ts`\n\n---\n\n**Date:** December 2025\n**Version:** 0.1.0"
      },
      "full_content": "# API Reference\n\n**Gridiron Franchise API Documentation**\n\nDate: December 2025\nVersion: 0.1.0\n\n---\n\n## Overview\n\nGridiron Franchise uses Next.js API Routes for server-side functionality. Currently, the API provides development endpoints for testing data generators.\n\n**Base URL:** `http://localhost:3000/api`\n\n---\n\n## Authentication\n\nAPI routes currently do not require authentication. Production deployment should implement Supabase auth middleware.\n\n---\n\n## Development Endpoints\n\nThese endpoints are for development/testing only and should be disabled in production.\n\n### POST /api/dev/generate-roster\n\nGenerate a complete 53-man roster.\n\n**Request:**\n```json\n{\n  \"tier\": \"Good\",\n  \"teamId\": \"KC\"\n}\n```\n\n| Parameter | Type | Required | Description |\n|-----------|------|----------|-------------|\n| `tier` | string | Yes | Team tier: Elite, Good, Average, Below Average, Rebuilding |\n| `teamId` | string | No | Optional team abbreviation |\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"roster\": {\n    \"players\": [\n      {\n        \"id\": \"uuid\",\n        \"firstName\": \"Patrick\",\n        \"lastName\": \"Smith\",\n        \"position\": \"QB\",\n        \"archetype\": \"field_general\",\n        \"age\": 27,\n        \"experience\": 5,\n        \"overall\": 88,\n        \"attributes\": { ... },\n        \"traits\": [\"clutch\", \"film_junkie\"],\n        \"badges\": [{ \"id\": \"pocket_presence\", \"tier\": \"gold\" }]\n      }\n    ],\n    \"depthChart\": {\n      \"QB\": [\"player-id-1\", \"player-id-2\", \"player-id-3\"]\n    }\n  },\n  \"stats\": {\n    \"totalPlayers\": 53,\n    \"averageOVR\": 76.4,\n    \"positionBreakdown\": { \"QB\": 3, \"RB\": 4, ... }\n  }\n}\n```\n\n**cURL Example:**\n```bash\ncurl -X POST http://localhost:3000/api/dev/generate-roster \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"tier\": \"Good\"}'\n```\n\n---\n\n### POST /api/dev/generate-fa\n\nGenerate a free agent pool.\n\n**Request:**\n```json\n{\n  \"poolSize\": 175,\n  \"qualityTier\": \"mixed\"\n}\n```\n\n| Parameter | Type | Required | Description |\n|-----------|------|----------|-------------|\n| `poolSize` | number | No | Target pool size (default: 150-200) |\n| `qualityTier` | string | No | Quality distribution: high, medium, low, mixed |\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"freeAgents\": [\n    {\n      \"id\": \"uuid\",\n      \"firstName\": \"Marcus\",\n      \"lastName\": \"Williams\",\n      \"position\": \"CB\",\n      \"archetype\": \"zone_cover\",\n      \"age\": 30,\n      \"overall\": 78,\n      \"availabilityReason\": \"cap_casualty\",\n      \"contractDemand\": {\n        \"salary\": 5000000,\n        \"years\": 2\n      },\n      \"traits\": [\"veteran_mentor\", \"injury_prone\"],\n      \"badges\": []\n    }\n  ],\n  \"stats\": {\n    \"totalPlayers\": 175,\n    \"averageOVR\": 68.2,\n    \"averageAge\": 28.5,\n    \"byPosition\": { \"QB\": 10, \"RB\": 18, ... }\n  }\n}\n```\n\n---\n\n### POST /api/dev/generate-draft\n\nGenerate a draft class.\n\n**Request:**\n```json\n{\n  \"totalProspects\": 275,\n  \"talentLevel\": \"average\"\n}\n```\n\n| Parameter | Type | Required | Description |\n|-----------|------|----------|-------------|\n| `totalProspects` | number | No | Number of prospects (default: 275) |\n| `talentLevel` | string | No | Overall class quality: strong, average, weak |\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"prospects\": [\n    {\n      \"id\": \"uuid\",\n      \"firstName\": \"Caleb\",\n      \"lastName\": \"Johnson\",\n      \"position\": \"QB\",\n      \"archetype\": \"dual_threat\",\n      \"age\": 22,\n      \"college\": \"Ohio State\",\n      \"overall\": 76,\n      \"projectedRound\": 1,\n      \"projectedPick\": [1, 5],\n      \"scoutingGrade\": \"A\",\n      \"traits\": [\"high_motor\", \"quick_learner\"],\n      \"badges\": []\n    }\n  ],\n  \"stats\": {\n    \"totalProspects\": 275,\n    \"averageOVR\": 67.3,\n    \"byRound\": { \"1\": 32, \"2\": 32, ... },\n    \"byPosition\": { \"QB\": 12, \"RB\": 24, ... }\n  }\n}\n```\n\n---\n\n### POST /api/dev/generate-full\n\nGenerate complete game data (roster + FA pool + draft class).\n\n**Request:**\n```json\n{\n  \"options\": {\n    \"roster\": { \"tier\": \"Good\" },\n    \"freeAgents\": { \"poolSize\": 175 },\n    \"draft\": { \"totalProspects\": 275 }\n  }\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"roster\": { ... },\n    \"freeAgents\": [ ... ],\n    \"draftClass\": [ ... ]\n  },\n  \"stats\": {\n    \"generationTime\": \"1.2s\",\n    \"totalPlayers\": 503\n  }\n}\n```\n\n---\n\n## Error Handling\n\nAll endpoints return consistent error responses:\n\n```json\n{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"INVALID_TIER\",\n    \"message\": \"Tier must be one of: Elite, Good, Average, Below Average, Rebuilding\"\n  }\n}\n```\n\n### Error Codes\n\n| Code | HTTP Status | Description |\n|------|-------------|-------------|\n| `INVALID_TIER` | 400 | Invalid team tier value |\n| `INVALID_POSITION` | 400 | Invalid position value |\n| `GENERATION_FAILED` | 500 | Internal generation error |\n| `UNAUTHORIZED` | 401 | Missing or invalid auth token |\n\n---\n\n## Rate Limits\n\nDevelopment endpoints have no rate limits. Production will implement:\n\n| Endpoint Type | Limit |\n|---------------|-------|\n| Generation | 10/minute |\n| Read | 100/minute |\n| Write | 30/minute |\n\n---\n\n## Data Types\n\n### Tier\n\n```typescript\ntype Tier = 'Elite' | 'Good' | 'Average' | 'Below Average' | 'Rebuilding'\n```\n\n### Position\n\n```typescript\ntype Position =\n  | 'QB' | 'RB' | 'WR' | 'TE'           // Offense\n  | 'LT' | 'LG' | 'C' | 'RG' | 'RT'     // O-Line\n  | 'DE' | 'DT' | 'MLB' | 'OLB'         // Defense\n  | 'CB' | 'FS' | 'SS'                  // Secondary\n  | 'K' | 'P'                           // Special Teams\n```\n\n### Availability Reason (Free Agents)\n\n```typescript\ntype AvailabilityReason =\n  | 'age_decline'\n  | 'injury_history'\n  | 'cap_casualty'\n  | 'character_concerns'\n  | 'young_unproven'\n  | 'market_timing'\n```\n\n---\n\n## AI Agent Notes\n\nWhen working with API routes:\n\n1. **Location**: API routes in `src/app/api/dev/`\n2. **Generator Import**: Use functions from `src/lib/generators/`\n3. **Validation**: Add Zod schemas for request validation\n4. **Error Format**: Always return `{ success, error? }` structure\n5. **Types**: Import from `src/lib/types.ts`\n\n---\n\n**Date:** December 2025\n**Version:** 0.1.0\n",
      "word_count": 772
    },
    "components": {
      "sections": {
        "components_reference": "**Gridiron Franchise Component Library**\n\nFramework: React 19 + Shadcn/UI\nVersion: 0.1.0\n\n---",
        "overview": "Components follow Shadcn/UI conventions with Tailwind CSS styling. All components use the `cn()` utility for className merging.\n\n```typescript\nimport { cn } from '@/lib/utils'\n```\n\n---",
        "ui_primitives_(`src/components/ui/`)": "Base components from Shadcn/UI. Do not modify directly.\n\n### Button\n\n```tsx\nimport { Button } from '@/components/ui/button'\n\n// Variants: default, destructive, outline, secondary, ghost, link\n// Sizes: default, sm, lg, icon\n\n<Button variant=\"default\" size=\"lg\">\n  Start Game\n</Button>\n\n<Button variant=\"outline\" size=\"sm\">\n  Cancel\n</Button>\n\n<Button variant=\"ghost\" size=\"icon\">\n  <Icon />\n</Button>\n```\n\n### Card\n\n```tsx\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/components/ui/card'\n\n<Card>\n  <CardHeader>\n    <CardTitle>Player Name</CardTitle>\n    <CardDescription>QB - 88 OVR</CardDescription>\n  </CardHeader>\n  <CardContent>\n    <p>Player details...</p>\n  </CardContent>\n  <CardFooter>\n    <Button>View Profile</Button>\n  </CardFooter>\n</Card>\n```\n\n### Dialog\n\n```tsx\nimport { Dialog, DialogTrigger, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog'\n\n<Dialog>\n  <DialogTrigger asChild>\n    <Button>Open Settings</Button>\n  </DialogTrigger>\n  <DialogContent>\n    <DialogHeader>\n      <DialogTitle>Game Settings</DialogTitle>\n      <DialogDescription>Configure your preferences</DialogDescription>\n    </DialogHeader>\n    {/* Content */}\n    <DialogFooter>\n      <Button>Save</Button>\n    </DialogFooter>\n  </DialogContent>\n</Dialog>\n```\n\n### Tabs\n\n```tsx\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs'\n\n<Tabs defaultValue=\"roster\">\n  <TabsList>\n    <TabsTrigger value=\"roster\">Roster</TabsTrigger>\n    <TabsTrigger value=\"depth\">Depth Chart</TabsTrigger>\n  </TabsList>\n  <TabsContent value=\"roster\">\n    {/* Roster content */}\n  </TabsContent>\n  <TabsContent value=\"depth\">\n    {/* Depth chart content */}\n  </TabsContent>\n</Tabs>\n```\n\n### Select\n\n```tsx\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from '@/components/ui/select'\n\n<Select onValueChange={setPosition}>\n  <SelectTrigger>\n    <SelectValue placeholder=\"Select position\" />\n  </SelectTrigger>\n  <SelectContent>\n    <SelectItem value=\"QB\">Quarterback</SelectItem>\n    <SelectItem value=\"RB\">Running Back</SelectItem>\n    <SelectItem value=\"WR\">Wide Receiver</SelectItem>\n  </SelectContent>\n</Select>\n```\n\n### Badge\n\n```tsx\nimport { Badge } from '@/components/ui/badge'\n\n// Variants: default, secondary, destructive, outline\n\n<Badge>Starter</Badge>\n<Badge variant=\"secondary\">Backup</Badge>\n<Badge variant=\"destructive\">Injured</Badge>\n```\n\n### Progress\n\n```tsx\nimport { Progress } from '@/components/ui/progress'\n\n<Progress value={75} /> {/* 75% filled */}\n```\n\n### Sheet (Mobile Drawer)\n\n```tsx\nimport { Sheet, SheetTrigger, SheetContent, SheetHeader, SheetTitle } from '@/components/ui/sheet'\n\n<Sheet>\n  <SheetTrigger asChild>\n    <Button variant=\"ghost\" size=\"icon\">\n      <MenuIcon />\n    </Button>\n  </SheetTrigger>\n  <SheetContent side=\"left\">\n    <SheetHeader>\n      <SheetTitle>Menu</SheetTitle>\n    </SheetHeader>\n    {/* Navigation items */}\n  </SheetContent>\n</Sheet>\n```\n\n---",
        "feature_components": "### Authentication (`src/components/auth/`)\n\n#### SignInForm\n\nEmail/password sign in with validation.\n\n```tsx\nimport SignInForm from '@/components/auth/sign-in-form'\n\n<SignInForm />\n```\n\nProps: None (self-contained)\n\n#### SignUpForm\n\nAccount creation with password strength indicator.\n\n```tsx\nimport SignUpForm from '@/components/auth/sign-up-form'\n\n<SignUpForm />\n```\n\n#### PasswordStrength\n\nVisual password strength indicator.\n\n```tsx\nimport PasswordStrength from '@/components/auth/password-strength'\n\n<PasswordStrength password={password} />\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `password` | string | Password to evaluate |\n\n---\n\n### Menu (`src/components/menu/`)\n\n#### MenuButtonPrimary\n\nMain CTA button for primary actions.\n\n```tsx\nimport MenuButtonPrimary from '@/components/menu/menu-button-primary'\n\n<MenuButtonPrimary href=\"/career/load\">\n  Continue Career\n</MenuButtonPrimary>\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `href` | string | Navigation target |\n| `children` | ReactNode | Button text |\n| `disabled` | boolean | Disable button |\n\n#### MenuButtonSecondary\n\nSecondary action buttons.\n\n```tsx\nimport MenuButtonSecondary from '@/components/menu/menu-button-secondary'\n\n<MenuButtonSecondary href=\"/career/new\">\n  New Career\n</MenuButtonSecondary>\n```\n\n---\n\n### Career (`src/components/career/`)\n\n#### ArchetypeCard\n\nIndividual GM archetype display.\n\n```tsx\nimport ArchetypeCard from '@/components/career/persona/archetype-card'\n\n<ArchetypeCard\n  archetype={archetypeData}\n  isSelected={selectedId === archetypeData.id}\n  onSelect={() => handleSelect(archetypeData.id)}\n  hasSynergy={synergyCheck(archetypeData.id)}\n/>\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `archetype` | GMArchetype | Archetype data object |\n| `isSelected` | boolean | Selection state |\n| `onSelect` | () => void | Selection handler |\n| `hasSynergy` | boolean | Show synergy indicator |\n\n#### BackgroundCard\n\nGM background selection card.\n\n```tsx\nimport BackgroundCard from '@/components/career/persona/background-card'\n\n<BackgroundCard\n  background={backgroundData}\n  isSelected={selectedId === backgroundData.id}\n  onSelect={() => handleSelect(backgroundData.id)}\n/>\n```\n\n#### SynergyBadge\n\nSynergy indicator badge.\n\n```tsx\nimport SynergyBadge from '@/components/career/persona/synergy-badge'\n\n<SynergyBadge synergy={synergyData} />\n```\n\n#### PersonaSummary\n\nComplete persona display with all bonuses.\n\n```tsx\nimport PersonaSummary from '@/components/career/persona/persona-summary'\n\n<PersonaSummary persona={gmPersona} />\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `persona` | GMPersona | Complete persona object |\n\n#### TeamCard\n\nTeam selection card.\n\n```tsx\nimport TeamCard from '@/components/career/team-card'\n\n<TeamCard\n  team={teamData}\n  isSelected={selectedTeam === teamData.id}\n  onSelect={() => handleSelect(teamData)}\n/>\n```\n\n#### TeamList\n\nGrid of all NFL teams.\n\n```tsx\nimport TeamList from '@/components/career/team-list'\n\n<TeamList\n  teams={allTeams}\n  selectedTeam={selectedTeam}\n  onSelectTeam={handleSelectTeam}\n/>\n```\n\n---\n\n### Dashboard (`src/components/dashboard/`)\n\n#### TeamCard\n\nDashboard team info display.\n\n```tsx\nimport TeamCard from '@/components/dashboard/team-card'\n\n<TeamCard team={currentTeam} />\n```\n\n#### NavCard\n\nNavigation information cards.\n\n```tsx\nimport NavCard from '@/components/dashboard/nav-card'\n\n<NavCard\n  title=\"Roster\"\n  description=\"Manage your 53-man roster\"\n  href=\"/dashboard/roster\"\n  icon={<UsersIcon />}\n/>\n```\n\n#### BottomTabBar\n\nFixed mobile navigation bar.\n\n```tsx\nimport BottomTabBar from '@/components/dashboard/bottom-tab-bar'\n\n<BottomTabBar />\n```\n\nProps: None (uses current route for active state)\n\n---\n\n### Dev Tools (`src/components/dev-tools/`)\n\n#### PlayerCard\n\nIndividual player display for dev tools.\n\n```tsx\nimport PlayerCard from '@/components/dev-tools/player-card'\n\n<PlayerCard player={playerData} />\n```\n\n#### RosterPlayerCard\n\nCompact player card for roster view.\n\n```tsx\nimport RosterPlayerCard from '@/components/dev-tools/roster-player-card'\n\n<RosterPlayerCard player={playerData} slot={1} />\n```\n\n---",
        "utility_components": "### ThemeProvider\n\nNext Themes provider wrapper.\n\n```tsx\n// In layout.tsx\nimport { ThemeProvider } from '@/components/theme-provider'\n\n<ThemeProvider attribute=\"class\" defaultTheme=\"system\" enableSystem>\n  {children}\n</ThemeProvider>\n```\n\n### ThemeToggle\n\nDark/light mode toggle button.\n\n```tsx\nimport { ThemeToggle } from '@/components/theme-toggle'\n\n<ThemeToggle />\n```\n\n---",
        "component_patterns": "### State Management\n\nUse Zustand for shared state, local useState for component-only state:\n\n```tsx\n// Shared state\nimport { useCareerStore } from '@/stores/career-store'\n\nfunction Component() {\n  const { archetype, setArchetype } = useCareerStore()\n  // ...\n}\n\n// Local state\nfunction Component() {\n  const [isOpen, setIsOpen] = useState(false)\n  // ...\n}\n```\n\n### Conditional Classes\n\nAlways use `cn()` for conditional className:\n\n```tsx\n<div className={cn(\n  'base-classes',\n  isActive && 'active-classes',\n  variant === 'large' && 'large-classes'\n)}>\n```\n\n### Form Handling\n\nUse React Hook Form with Zod:\n\n```tsx\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { signInSchema } from '@/lib/validations/auth'\n\nconst form = useForm({\n  resolver: zodResolver(signInSchema),\n  defaultValues: { email: '', password: '' }\n})\n```\n\n---",
        "ai_agent_notes": "When creating components:\n\n1. **Location**: Feature components in `src/components/[feature]/`\n2. **Styling**: Use Tailwind classes, avoid inline styles\n3. **Props**: Define TypeScript interfaces for all props\n4. **State**: Zustand for shared, useState for local\n5. **cn() Utility**: Always use for className composition\n6. **Accessibility**: Include proper aria attributes\n\n---\n\n**Framework:** React 19 + Shadcn/UI\n**Version:** 0.1.0"
      },
      "full_content": "# Components Reference\n\n**Gridiron Franchise Component Library**\n\nFramework: React 19 + Shadcn/UI\nVersion: 0.1.0\n\n---\n\n## Overview\n\nComponents follow Shadcn/UI conventions with Tailwind CSS styling. All components use the `cn()` utility for className merging.\n\n```typescript\nimport { cn } from '@/lib/utils'\n```\n\n---\n\n## UI Primitives (`src/components/ui/`)\n\nBase components from Shadcn/UI. Do not modify directly.\n\n### Button\n\n```tsx\nimport { Button } from '@/components/ui/button'\n\n// Variants: default, destructive, outline, secondary, ghost, link\n// Sizes: default, sm, lg, icon\n\n<Button variant=\"default\" size=\"lg\">\n  Start Game\n</Button>\n\n<Button variant=\"outline\" size=\"sm\">\n  Cancel\n</Button>\n\n<Button variant=\"ghost\" size=\"icon\">\n  <Icon />\n</Button>\n```\n\n### Card\n\n```tsx\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/components/ui/card'\n\n<Card>\n  <CardHeader>\n    <CardTitle>Player Name</CardTitle>\n    <CardDescription>QB - 88 OVR</CardDescription>\n  </CardHeader>\n  <CardContent>\n    <p>Player details...</p>\n  </CardContent>\n  <CardFooter>\n    <Button>View Profile</Button>\n  </CardFooter>\n</Card>\n```\n\n### Dialog\n\n```tsx\nimport { Dialog, DialogTrigger, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog'\n\n<Dialog>\n  <DialogTrigger asChild>\n    <Button>Open Settings</Button>\n  </DialogTrigger>\n  <DialogContent>\n    <DialogHeader>\n      <DialogTitle>Game Settings</DialogTitle>\n      <DialogDescription>Configure your preferences</DialogDescription>\n    </DialogHeader>\n    {/* Content */}\n    <DialogFooter>\n      <Button>Save</Button>\n    </DialogFooter>\n  </DialogContent>\n</Dialog>\n```\n\n### Tabs\n\n```tsx\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs'\n\n<Tabs defaultValue=\"roster\">\n  <TabsList>\n    <TabsTrigger value=\"roster\">Roster</TabsTrigger>\n    <TabsTrigger value=\"depth\">Depth Chart</TabsTrigger>\n  </TabsList>\n  <TabsContent value=\"roster\">\n    {/* Roster content */}\n  </TabsContent>\n  <TabsContent value=\"depth\">\n    {/* Depth chart content */}\n  </TabsContent>\n</Tabs>\n```\n\n### Select\n\n```tsx\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from '@/components/ui/select'\n\n<Select onValueChange={setPosition}>\n  <SelectTrigger>\n    <SelectValue placeholder=\"Select position\" />\n  </SelectTrigger>\n  <SelectContent>\n    <SelectItem value=\"QB\">Quarterback</SelectItem>\n    <SelectItem value=\"RB\">Running Back</SelectItem>\n    <SelectItem value=\"WR\">Wide Receiver</SelectItem>\n  </SelectContent>\n</Select>\n```\n\n### Badge\n\n```tsx\nimport { Badge } from '@/components/ui/badge'\n\n// Variants: default, secondary, destructive, outline\n\n<Badge>Starter</Badge>\n<Badge variant=\"secondary\">Backup</Badge>\n<Badge variant=\"destructive\">Injured</Badge>\n```\n\n### Progress\n\n```tsx\nimport { Progress } from '@/components/ui/progress'\n\n<Progress value={75} /> {/* 75% filled */}\n```\n\n### Sheet (Mobile Drawer)\n\n```tsx\nimport { Sheet, SheetTrigger, SheetContent, SheetHeader, SheetTitle } from '@/components/ui/sheet'\n\n<Sheet>\n  <SheetTrigger asChild>\n    <Button variant=\"ghost\" size=\"icon\">\n      <MenuIcon />\n    </Button>\n  </SheetTrigger>\n  <SheetContent side=\"left\">\n    <SheetHeader>\n      <SheetTitle>Menu</SheetTitle>\n    </SheetHeader>\n    {/* Navigation items */}\n  </SheetContent>\n</Sheet>\n```\n\n---\n\n## Feature Components\n\n### Authentication (`src/components/auth/`)\n\n#### SignInForm\n\nEmail/password sign in with validation.\n\n```tsx\nimport SignInForm from '@/components/auth/sign-in-form'\n\n<SignInForm />\n```\n\nProps: None (self-contained)\n\n#### SignUpForm\n\nAccount creation with password strength indicator.\n\n```tsx\nimport SignUpForm from '@/components/auth/sign-up-form'\n\n<SignUpForm />\n```\n\n#### PasswordStrength\n\nVisual password strength indicator.\n\n```tsx\nimport PasswordStrength from '@/components/auth/password-strength'\n\n<PasswordStrength password={password} />\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `password` | string | Password to evaluate |\n\n---\n\n### Menu (`src/components/menu/`)\n\n#### MenuButtonPrimary\n\nMain CTA button for primary actions.\n\n```tsx\nimport MenuButtonPrimary from '@/components/menu/menu-button-primary'\n\n<MenuButtonPrimary href=\"/career/load\">\n  Continue Career\n</MenuButtonPrimary>\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `href` | string | Navigation target |\n| `children` | ReactNode | Button text |\n| `disabled` | boolean | Disable button |\n\n#### MenuButtonSecondary\n\nSecondary action buttons.\n\n```tsx\nimport MenuButtonSecondary from '@/components/menu/menu-button-secondary'\n\n<MenuButtonSecondary href=\"/career/new\">\n  New Career\n</MenuButtonSecondary>\n```\n\n---\n\n### Career (`src/components/career/`)\n\n#### ArchetypeCard\n\nIndividual GM archetype display.\n\n```tsx\nimport ArchetypeCard from '@/components/career/persona/archetype-card'\n\n<ArchetypeCard\n  archetype={archetypeData}\n  isSelected={selectedId === archetypeData.id}\n  onSelect={() => handleSelect(archetypeData.id)}\n  hasSynergy={synergyCheck(archetypeData.id)}\n/>\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `archetype` | GMArchetype | Archetype data object |\n| `isSelected` | boolean | Selection state |\n| `onSelect` | () => void | Selection handler |\n| `hasSynergy` | boolean | Show synergy indicator |\n\n#### BackgroundCard\n\nGM background selection card.\n\n```tsx\nimport BackgroundCard from '@/components/career/persona/background-card'\n\n<BackgroundCard\n  background={backgroundData}\n  isSelected={selectedId === backgroundData.id}\n  onSelect={() => handleSelect(backgroundData.id)}\n/>\n```\n\n#### SynergyBadge\n\nSynergy indicator badge.\n\n```tsx\nimport SynergyBadge from '@/components/career/persona/synergy-badge'\n\n<SynergyBadge synergy={synergyData} />\n```\n\n#### PersonaSummary\n\nComplete persona display with all bonuses.\n\n```tsx\nimport PersonaSummary from '@/components/career/persona/persona-summary'\n\n<PersonaSummary persona={gmPersona} />\n```\n\nProps:\n| Prop | Type | Description |\n|------|------|-------------|\n| `persona` | GMPersona | Complete persona object |\n\n#### TeamCard\n\nTeam selection card.\n\n```tsx\nimport TeamCard from '@/components/career/team-card'\n\n<TeamCard\n  team={teamData}\n  isSelected={selectedTeam === teamData.id}\n  onSelect={() => handleSelect(teamData)}\n/>\n```\n\n#### TeamList\n\nGrid of all NFL teams.\n\n```tsx\nimport TeamList from '@/components/career/team-list'\n\n<TeamList\n  teams={allTeams}\n  selectedTeam={selectedTeam}\n  onSelectTeam={handleSelectTeam}\n/>\n```\n\n---\n\n### Dashboard (`src/components/dashboard/`)\n\n#### TeamCard\n\nDashboard team info display.\n\n```tsx\nimport TeamCard from '@/components/dashboard/team-card'\n\n<TeamCard team={currentTeam} />\n```\n\n#### NavCard\n\nNavigation information cards.\n\n```tsx\nimport NavCard from '@/components/dashboard/nav-card'\n\n<NavCard\n  title=\"Roster\"\n  description=\"Manage your 53-man roster\"\n  href=\"/dashboard/roster\"\n  icon={<UsersIcon />}\n/>\n```\n\n#### BottomTabBar\n\nFixed mobile navigation bar.\n\n```tsx\nimport BottomTabBar from '@/components/dashboard/bottom-tab-bar'\n\n<BottomTabBar />\n```\n\nProps: None (uses current route for active state)\n\n---\n\n### Dev Tools (`src/components/dev-tools/`)\n\n#### PlayerCard\n\nIndividual player display for dev tools.\n\n```tsx\nimport PlayerCard from '@/components/dev-tools/player-card'\n\n<PlayerCard player={playerData} />\n```\n\n#### RosterPlayerCard\n\nCompact player card for roster view.\n\n```tsx\nimport RosterPlayerCard from '@/components/dev-tools/roster-player-card'\n\n<RosterPlayerCard player={playerData} slot={1} />\n```\n\n---\n\n## Utility Components\n\n### ThemeProvider\n\nNext Themes provider wrapper.\n\n```tsx\n// In layout.tsx\nimport { ThemeProvider } from '@/components/theme-provider'\n\n<ThemeProvider attribute=\"class\" defaultTheme=\"system\" enableSystem>\n  {children}\n</ThemeProvider>\n```\n\n### ThemeToggle\n\nDark/light mode toggle button.\n\n```tsx\nimport { ThemeToggle } from '@/components/theme-toggle'\n\n<ThemeToggle />\n```\n\n---\n\n## Component Patterns\n\n### State Management\n\nUse Zustand for shared state, local useState for component-only state:\n\n```tsx\n// Shared state\nimport { useCareerStore } from '@/stores/career-store'\n\nfunction Component() {\n  const { archetype, setArchetype } = useCareerStore()\n  // ...\n}\n\n// Local state\nfunction Component() {\n  const [isOpen, setIsOpen] = useState(false)\n  // ...\n}\n```\n\n### Conditional Classes\n\nAlways use `cn()` for conditional className:\n\n```tsx\n<div className={cn(\n  'base-classes',\n  isActive && 'active-classes',\n  variant === 'large' && 'large-classes'\n)}>\n```\n\n### Form Handling\n\nUse React Hook Form with Zod:\n\n```tsx\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { signInSchema } from '@/lib/validations/auth'\n\nconst form = useForm({\n  resolver: zodResolver(signInSchema),\n  defaultValues: { email: '', password: '' }\n})\n```\n\n---\n\n## AI Agent Notes\n\nWhen creating components:\n\n1. **Location**: Feature components in `src/components/[feature]/`\n2. **Styling**: Use Tailwind classes, avoid inline styles\n3. **Props**: Define TypeScript interfaces for all props\n4. **State**: Zustand for shared, useState for local\n5. **cn() Utility**: Always use for className composition\n6. **Accessibility**: Include proper aria attributes\n\n---\n\n**Framework:** React 19 + Shadcn/UI\n**Version:** 0.1.0\n",
      "word_count": 964
    },
    "readme": {
      "sections": {
        "gridiron_franchise": "**NFL Franchise Management Simulation Game**\n\nVersion: 0.1.0\nDate: December 2025\nMaintainer: willh\n\n---",
        "overview": "Gridiron Franchise is a mobile-first web application for NFL team franchise management simulation. Create a GM persona, select your team, and build a dynasty through drafting, free agency, and player development.\n\n### Key Features\n\n- **GM Persona System**: Choose from 6 backgrounds and 6 archetypes with synergy bonuses\n- **70 Player Archetypes**: Across 18 NFL positions with unique attribute profiles\n- **Full Roster Management**: 53-man rosters with depth charts\n- **Draft System**: Scout and draft prospects with hidden potential\n- **Free Agency**: Sign veterans to fill roster needs\n- **Progressive Web App**: Mobile-first design with offline support\n\n---",
        "quickstart": "### Prerequisites\n\n- Node.js 18+\n- npm or pnpm\n- Supabase account (for authentication)\n\n### Installation\n\n```bash",
        "clone_repository": "git clone <repository-url>\ncd gridiron-franchise",
        "install_dependencies": "npm install",
        "set_up_environment_variables": "cp .env.example .env.local",
        "edit_.env.local_with_your_supabase_credentials": "",
        "start_development_server": "npm run dev\n```\n\n**Expected output:**\n```\n\u25b2 Next.js 16.0.6\n- Local: http://localhost:3000\n- Environments: .env.local\n\u2713 Ready in 2.3s\n```\n\n### First Run\n\n1. Open `http://localhost:3000`\n2. Click \"New Career\" from main menu\n3. Select GM background (Former Player, Analytics Expert, etc.)\n4. Choose GM archetype (Scout Guru, Cap Wizard, etc.)\n5. Pick your NFL team\n6. Confirm and start playing\n\n---",
        "usage_examples": "### Development Tools\n\nAccess dev tools at `/dashboard/dev-tools` to test generators:\n\n```bash",
        "generate_a_test_roster_via_api": "curl -X POST http://localhost:3000/api/dev/generate-roster \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"tier\": \"Good\"}'\n```\n\n### Available Team Tiers\n\n| Tier | OVR Range | Description |\n|------|-----------|-------------|\n| Elite | 85-92 | Super Bowl contender |\n| Good | 80-87 | Playoff team |\n| Average | 75-82 | .500 team |\n| Below Average | 70-77 | Rebuilding |\n| Rebuilding | 65-72 | Full rebuild |\n\n---",
        "project_structure": "```\nsrc/\n\u251c\u2500\u2500 app/           # Next.js App Router pages\n\u251c\u2500\u2500 components/    # React components (Shadcn/UI based)\n\u251c\u2500\u2500 lib/           # Utilities, types, generators\n\u251c\u2500\u2500 data/          # Static game data (teams, personas)\n\u251c\u2500\u2500 stores/        # Zustand state management\n\u2514\u2500\u2500 types/         # TypeScript definitions\n```\n\n---",
        "tech_stack": "- **Framework**: Next.js 16 with App Router\n- **Language**: TypeScript (strict mode)\n- **UI**: React 19 + Shadcn/UI + Tailwind CSS 4\n- **State**: Zustand\n- **Backend**: Supabase (auth + database)\n- **PWA**: next-pwa for offline support\n\n---",
        "troubleshooting": "### Common Issues\n\n**\"Module not found\" errors**\n```bash\nrm -rf node_modules .next\nnpm install\nnpm run dev\n```\n\n**Supabase connection fails**\n- Verify `.env.local` has correct `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY`\n- Check Supabase project is active\n\n**PWA not updating**\n- Clear browser cache and service worker\n- Hard refresh with Ctrl+Shift+R\n\n---",
        "ai_agent_notes": "When working with this codebase:\n\n1. **Type Safety**: All game data uses strict TypeScript interfaces in `src/lib/types.ts`\n2. **FINALS Documents**: Authoritative game design specs in `context/FINALS/`\n3. **Generators**: Player/roster generation in `src/lib/generators/`\n4. **Component Patterns**: Use Shadcn/UI conventions with `cn()` utility\n5. **State Management**: Career state in Zustand store at `src/stores/career-store.ts`\n\n---\n\n**Version:** 0.1.0\n**Last Updated:** December 2025"
      },
      "full_content": "# Gridiron Franchise\n\n**NFL Franchise Management Simulation Game**\n\nVersion: 0.1.0\nDate: December 2025\nMaintainer: willh\n\n---\n\n## Overview\n\nGridiron Franchise is a mobile-first web application for NFL team franchise management simulation. Create a GM persona, select your team, and build a dynasty through drafting, free agency, and player development.\n\n### Key Features\n\n- **GM Persona System**: Choose from 6 backgrounds and 6 archetypes with synergy bonuses\n- **70 Player Archetypes**: Across 18 NFL positions with unique attribute profiles\n- **Full Roster Management**: 53-man rosters with depth charts\n- **Draft System**: Scout and draft prospects with hidden potential\n- **Free Agency**: Sign veterans to fill roster needs\n- **Progressive Web App**: Mobile-first design with offline support\n\n---\n\n## Quickstart\n\n### Prerequisites\n\n- Node.js 18+\n- npm or pnpm\n- Supabase account (for authentication)\n\n### Installation\n\n```bash\n# Clone repository\ngit clone <repository-url>\ncd gridiron-franchise\n\n# Install dependencies\nnpm install\n\n# Set up environment variables\ncp .env.example .env.local\n# Edit .env.local with your Supabase credentials\n\n# Start development server\nnpm run dev\n```\n\n**Expected output:**\n```\n\u25b2 Next.js 16.0.6\n- Local: http://localhost:3000\n- Environments: .env.local\n\u2713 Ready in 2.3s\n```\n\n### First Run\n\n1. Open `http://localhost:3000`\n2. Click \"New Career\" from main menu\n3. Select GM background (Former Player, Analytics Expert, etc.)\n4. Choose GM archetype (Scout Guru, Cap Wizard, etc.)\n5. Pick your NFL team\n6. Confirm and start playing\n\n---\n\n## Usage Examples\n\n### Development Tools\n\nAccess dev tools at `/dashboard/dev-tools` to test generators:\n\n```bash\n# Generate a test roster via API\ncurl -X POST http://localhost:3000/api/dev/generate-roster \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"tier\": \"Good\"}'\n```\n\n### Available Team Tiers\n\n| Tier | OVR Range | Description |\n|------|-----------|-------------|\n| Elite | 85-92 | Super Bowl contender |\n| Good | 80-87 | Playoff team |\n| Average | 75-82 | .500 team |\n| Below Average | 70-77 | Rebuilding |\n| Rebuilding | 65-72 | Full rebuild |\n\n---\n\n## Project Structure\n\n```\nsrc/\n\u251c\u2500\u2500 app/           # Next.js App Router pages\n\u251c\u2500\u2500 components/    # React components (Shadcn/UI based)\n\u251c\u2500\u2500 lib/           # Utilities, types, generators\n\u251c\u2500\u2500 data/          # Static game data (teams, personas)\n\u251c\u2500\u2500 stores/        # Zustand state management\n\u2514\u2500\u2500 types/         # TypeScript definitions\n```\n\n---\n\n## Tech Stack\n\n- **Framework**: Next.js 16 with App Router\n- **Language**: TypeScript (strict mode)\n- **UI**: React 19 + Shadcn/UI + Tailwind CSS 4\n- **State**: Zustand\n- **Backend**: Supabase (auth + database)\n- **PWA**: next-pwa for offline support\n\n---\n\n## Troubleshooting\n\n### Common Issues\n\n**\"Module not found\" errors**\n```bash\nrm -rf node_modules .next\nnpm install\nnpm run dev\n```\n\n**Supabase connection fails**\n- Verify `.env.local` has correct `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY`\n- Check Supabase project is active\n\n**PWA not updating**\n- Clear browser cache and service worker\n- Hard refresh with Ctrl+Shift+R\n\n---\n\n## AI Agent Notes\n\nWhen working with this codebase:\n\n1. **Type Safety**: All game data uses strict TypeScript interfaces in `src/lib/types.ts`\n2. **FINALS Documents**: Authoritative game design specs in `context/FINALS/`\n3. **Generators**: Player/roster generation in `src/lib/generators/`\n4. **Component Patterns**: Use Shadcn/UI conventions with `cn()` utility\n5. **State Management**: Career state in Zustand store at `src/stores/career-store.ts`\n\n---\n\n**Version:** 0.1.0\n**Last Updated:** December 2025\n",
      "word_count": 522
    }
  },
  "coderef": {
    "available": false,
    "element_count": 0,
    "has_graph": false
  },
  "_metadata": {
    "generated_at": "2025-12-18T00:26:35.147625",
    "generator": "coderef_foundation_generator",
    "version": "2.0.0"
  }
}